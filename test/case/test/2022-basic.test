-- echo basic insert

create table t_basic(id int, age int, name char, score float);
insert into t_basic values(1,1, 'a', 1.0);
insert into t_basic values(2,2, 'b', 2.0);
insert into t_basic values(4,4, 'c', 3.0);
insert into t_basic values(3,3, 'd', 4.0);
insert into t_basic values(5,5, 'e', 5.5);
insert into t_basic values(6,6, 'f', 6.6);
insert into t_basic values(7,7, 'g', 7.7);

--sort select * from t_basic;

-- echo basic delete
delete from t_basic where id=3;
-- sort select * from t_basic;

-- echo basic select
select * from t_basic where id=1;

-- sort select * from t_basic where id>=5;

select * from t_basic where age>1 and age<3;

select * from t_basic where t_basic.id=1 and t_basic.age=1;

select * from t_basic where id=1 and age=1;

-- sort select id, age, name, score from t_basic;

-- sort select t_basic.id, t_basic.age, t_basic.name, t_basic.score from t_basic;

-- sort select t_basic.id, t_basic.age, name from t_basic;

-- echo create index
create index i_id on t_basic (id);
-- sort select * from t_basic;

-- restart
delete from t_basic where id=1;
insert into t_basic values(1,1, 'a', 1.0);
insert into t_basic values(8,8,'h',8.8);
delete from t_basic where id < 3;

-- sort select * from t_basic;

-- connect client1
-- connect client2

-- connection client2
create table t_basic2(id int, age int, name char);
begin;
insert into t_basic2 values(1,1, 'a');

-- connection client1
begin;
delete from t_basic where id = 4;
insert into t_basic2 values(2,2, 'b');

-- connection client2
insert into t_basic2 values(3,3, 'd');

-- connection client1
delete from t_basic where id=8;
insert into t_basic2 values(4,4,'e');

-- connection client2
delete from t_basic where id=6;
commit;

-- connection default
-- sort select * from t_basic;
-- sort select * from t_basic2;

-- restart
-- sort select * from t_basic;
-- sort select * from t_basic2;
